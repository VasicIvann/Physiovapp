(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,t)=>{s.exports=e.r(76562)},57774,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(18566);e.i(51718);var a=e.i(18357);e.i(36180);var l=e.i(98925),i=e.i(22016),o=e.i(59141);function n(){let e=(0,r.useRouter)(),[n,d]=(0,t.useState)(""),[u,c]=(0,t.useState)(""),[m,x]=(0,t.useState)(""),[p,b]=(0,t.useState)(""),[g,f]=(0,t.useState)("idle"),[h,y]=(0,t.useState)(""),j=async s=>{if(s.preventDefault(),!o.auth||!o.db){f("error"),y("Firebase n&apos;est pas configure.");return}f("loading"),y("");try{let s=await (0,a.createUserWithEmailAndPassword)(o.auth,u,m);await (0,a.updateProfile)(s.user,{displayName:n}),await (0,l.setDoc)((0,l.doc)(o.db,"users",s.user.uid),{name:n,email:u,birthdate:p,createdAt:new Date().toISOString()}),e.push("/account")}catch(e){console.error(e),f("error"),y("Impossible de creer le compte. Verifie les champs.")}};return o.isFirebaseConfigured?(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("section",{className:"rounded-2xl bg-white p-5 shadow-sm ring-1 ring-slate-200/70",children:[(0,s.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:"Sign up"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:"Cree ton compte Physiovapp."}),(0,s.jsxs)("form",{className:"mt-4 space-y-3",onSubmit:j,children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-800",children:["Name",(0,s.jsx)("input",{type:"text",required:!0,value:n,onChange:e=>d(e.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm outline-none focus:border-sky-500 focus:ring-2 focus:ring-sky-100"})]}),(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-800",children:["Email",(0,s.jsx)("input",{type:"email",required:!0,value:u,onChange:e=>c(e.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm outline-none focus:border-sky-500 focus:ring-2 focus:ring-sky-100"})]}),(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-800",children:["Password",(0,s.jsx)("input",{type:"password",required:!0,minLength:6,value:m,onChange:e=>x(e.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm outline-none focus:border-sky-500 focus:ring-2 focus:ring-sky-100"})]}),(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-800",children:["Birthdate",(0,s.jsx)("input",{type:"date",required:!0,value:p,onChange:e=>b(e.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm outline-none focus:border-sky-500 focus:ring-2 focus:ring-sky-100"})]}),"error"===g&&(0,s.jsx)("p",{className:"text-sm font-semibold text-rose-600",children:h||"Erreur lors de la creation du compte."}),(0,s.jsx)("button",{type:"submit",disabled:"loading"===g,className:"mt-1 flex w-full items-center justify-center rounded-lg bg-sky-600 px-4 py-2.5 text-sm font-semibold text-white transition hover:bg-sky-700 disabled:cursor-not-allowed disabled:bg-sky-300",children:"loading"===g?"Creation...":"Create account"})]}),(0,s.jsxs)("p",{className:"mt-3 text-center text-sm text-slate-600",children:["Deja un compte ?"," ",(0,s.jsx)(i.default,{href:"/signin",className:"font-semibold text-sky-700 hover:underline",children:"Sign in"})]})]})}):(0,s.jsxs)("div",{className:"rounded-2xl bg-white p-5 shadow-sm ring-1 ring-slate-200/70",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-rose-600",children:"Configure Firebase pour activer l'inscription."}),(0,s.jsx)("p",{className:"mt-2 text-sm text-slate-600",children:"Renseigne les variables dans web/.env.local puis redemarre le serveur."})]})}e.s(["default",()=>n])}]);